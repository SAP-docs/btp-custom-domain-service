<!-- loiob0c0a7327dc74d1dbe2faa14a594e439 -->

# Custom Domains in Extension Landscapes

This section explains the do's and don'ts when using parts of the CF custom domains for extension landscapes.



## DNS CNAME Records

A DNS CNAME record for a custom domain points to a specific BTP load balancer. As there is no common load balancer for a region, but just one load balancer for each landscape, they cannot share the same DNS CNAME.



<a name="loiob0c0a7327dc74d1dbe2faa14a594e439__section_xf4_bqh_ywb"/>

## TLS Server Certificates and Configurations

A custom domain is a TLS SNI configuration. It consists of a server certificate with Subject Alternative Names \(SANs\), a TLS protocol configuration, and optionally, a mutual TLS \(mTLS\) trust configuration, for a specific BTP load balancer with a DNS CNAME record pointing to it. As there is no common load balancer for a region, but one load balancer for each landscape, they cannot share custom domain certificates and TLS configurations.



<a name="loiob0c0a7327dc74d1dbe2faa14a594e439__section_l41_2qh_ywb"/>

## Example Scenario

A BTP subaccount in the EU10 region contains a CF environment in the eu10 main landscape, one SaaS subscription in the eu10 main landscape, and two SaaS subscriptions in XLS eu10-003:


<table>
<tr>
<th valign="top">

Region

</th>
<th valign="top">

Type

</th>
<th valign="top">

Service

</th>
<th valign="top">

URL

</th>
</tr>
<tr>
<td valign="top" rowspan="4">

EU10

</td>
<td valign="top">

SaaS

</td>
<td valign="top">

Custom Domains

</td>
<td valign="top">

mysubdomain.custom-domains.cf.eu10.hana.ondemand.com

</td>
</tr>
<tr>
<td valign="top">

PaaS

</td>
<td valign="top">

Cloud Foundry

</td>
<td valign="top">

api.cf.eu10.hana.ondemand.com

</td>
</tr>
<tr>
<td valign="top">

SaaS

</td>
<td valign="top">

Portal

</td>
<td valign="top">

mysubdomain.cpp.cfapps.eu10-003.hana.ondemand.com

</td>
</tr>
<tr>
<td valign="top">

SaaS

</td>
<td valign="top">

CPI

</td>
<td valign="top">

mysubdomain.it-cpi4711-rt.cfapps.eu10-003.hana.ondemand.com

</td>
</tr>
</table>



<a name="loiob0c0a7327dc74d1dbe2faa14a594e439__section_kr5_qqh_ywb"/>

## Desired Custom Domains

A `customer.com` super domain should be used for all public URLs, except for the Custom Domain Manager:

-   `sapapps.customer.com` for your own Cloud Foundry `myapp1` and `myapp2` applications.

-   `sapportal.customer.com` for the Portal service.

-   `sapcpi.customer.com` for the CPI service.




<a name="loiob0c0a7327dc74d1dbe2faa14a594e439__section_utx_wqh_ywb"/>

## Required DNS CNAME Records

As there are two CF landscapes with their own load balancers involved, multiple DNS records are required.

Example with two records:

-   ```
CNAME *.sapapps.customer.com TO
    api.cf.eu10.hana.ondemand.com
```

-   ```
CNAME *.customer.com TO
    api.cf.eu10-003.hana.ondemand.com
```


Example with four records:

-   ```
CNAME myapp1.sapapps.customer.com TO
    api.cf.eu10.hana.ondemand.com
```

-   ```
CNAME myapp2.sapapps.customer.com TO
    api.cf.eu10.hana.ondemand.com
```

-   ```
CNAME sapportal.customer.com TO
    api.cf.eu10-003.hana.ondemand.com
```

-   ```
CNAME sapcpi.customer.com TO
    api.cf.eu10-003.hana.ondemand.com
```


> ### Note:  
> DNS CNAME wildcards are multilevel; which means that a wildcard includes any subdomain level.
> 
> For instance, `CNAME *.sapapps.customer.com TO api.cf.eu10.hana.ondemand.com` would include the `test.sapapps.customer.com` custom domain for the `myapp3.test.sapapps.customer.com` URL.

**Related Information**  


[Extension Landscapes](extension-landscapes-66b366d.md "Extension landscapes (XLS) are Cloud Foundry (CF) landscapes in the same region as a main landscape, which can be used for your own CF environment (PaaS), for subscribed applications (SaaS), or for both. A main landscape can have none, one, or multiple extension landscapes.")

[Required Custom Domain Configurations](required-custom-domain-configurations-5d5c3cf.md "At least two separate custom domain configurations are required to fulfill the desired setup; one in the eu10 main landscape and one in the eu10-003 XLS. It is not possible to use the same server certificate for both. It is also not possible to import server certificate private keys from outside; they are always generated by Custom Domain Service inside a secure storage, which does not allow import or export operations to the front end.")

[Setting Up the Custom Domain Configurations](setting-up-the-custom-domain-configurations-19b1ae7.md "We strongly recommend that you use the Custom Domain Manager for any kind of custom domain management in Cloud Foundry, especially for, but not limited to the XLS scenarios.")


<!-- loio19b1ae7d0b5c43d490e5c7f15561900e -->

# Setting Up the Custom Domain Configurations

We strongly recommend that you use the Custom Domain Manager for any kind of custom domain management in Cloud Foundry, especially for, but not limited to the XLS scenarios.



## Context

The old Custom Domain Service command-line interface \(CLI\) provides only a small subset of capabilities. In XLS scenarios, the CLI cannot be used at all, unless your own Cloud Foundry environment is in the same landscape as the SaaS applications.

Perform the following steps to set up the example scenario:



## Procedure

1.  Under *Domains* \> *Reserved Domains*, use *Add Reserved Domain* to reserve your super domain, `customer.com`.

2.  *Domains* \> *Custom Domains*, use *Create Custom Domain* \> *for your Subaccount's CF Organization* to create your custom domain, `sapapps.customer.com`, used for your own CF application routes. Your CF environmentÂ´s landscape, `cf-eu10`, is preselected. The `sapapps.customer.com` custom domain will be created in the `cf-eu10` landscape.

3.  Under *Domains* \> *Custom Domains*, use *Create Custom Domain* \> *for your Subaccount's SaaS Subscriptions* to create your custom domain, `customer.com`, used for your subscription URLs. Select one of your subscribed applications in the `cf-eu10-003` landscape. Select your reserved domain, `customer.com`. Keep the *Subdomain Name* text box empty. The `customer.com` custom domain will be created in the `cf-eu10-003` landscape.

4.  Under *SaaS Routes*, choose *Create Custom Route* to create your custom domain URL for `sapportal.customer.com`. Continue with the current subaccount's list of subscriptions checked. Select the Subscribed Application for the Portal, with its Standard Route, `mysubdomain.cpp.cfapps.eu10-003.hana.ondemand.com`. In Edit Route, keep the given value. Select the `customer.com` custom domain in the `cf-eu10-003` landscape. In *Set a Hostname*, enter `sapportal`, to get the `sapportal.customer.com` custom route.

5.  Do the same for `sapcpi.customer.com`. Both SaaS Routes are now created, but not yet active.

6.  Under *Server Certificates*, choose *Create Server Certificate* \> *for your \(wildcard\) Custom Domains*. Enter an alias, like `MyApps`. Select the `cf-eu10` landscape. In *Set Subject Alternative Names*, select `*.sapapps.customer.com`. In *Set Subject*, keep the Common Name \(CN\) field as is; enter further fields if your Certificate Authority \(CA\) requires them. A new Certificate Signing Request \(CSR\) is now created.

7.  Under *Server Certificates*, choose *Create Server Certificate* \> *for your \(wildcard\) Custom Domains*. Enter an alias, like `MySubscriptions`. Select the `cf-eu10-003` landscape. In *Set Subject Alternative Names*, select `*.customer.com`. In *Set Subject*, keep the Common Name \(CN\) field as is; enter further fields if your Certificate Authority requires them. A new Certificate Signing Request is now created.

8.  In both CSRs, use *Get Certificate Signing Request*, and then *Upload Full Certificate Chain*. This requires some interaction with your CA, of course.

9.  Once uploaded, use the *Activate* button and wizard for both the new server certificates.

10. Once your `MySubscriptions` server certificate is activated, both SaaS Routes will be automatically activated.

    > ### Tip:  
    > If you don't want wildcard certificates, the same procedure can be used, but then only multiple non-wildcard SANs have to be selected in the *Set Subject Alternative Names* step. *Create Server Certificate* \> *for your Custom Domain SaaS Routes* is an alternative wizard for creating a non-wildcard certificate for SaaS routes in the same landscape.


**Related Information**  


[Extension Landscapes](extension-landscapes-66b366d.md "Extension landscapes (XLS) are Cloud Foundry (CF) landscapes in the same region as a main landscape, which can be used for your own CF environment (PaaS), for subscribed applications (SaaS), or for both. A main landscape can have none, one, or multiple extension landscapes.")

[Custom Domains in Extension Landscapes](custom-domains-in-extension-landscapes-b0c0a73.md "This section explains the do's and don'ts when using parts of the CF custom domains for extension landscapes.")

[Required Custom Domain Configurations](required-custom-domain-configurations-5d5c3cf.md "At least two separate custom domain configurations are required to fulfill the desired setup; one in the eu10 main landscape and one in the eu10-003 XLS. It is not possible to use the same server certificate for both. It is also not possible to import server certificate private keys from outside; they are always generated by Custom Domain Service inside a secure storage, which does not allow import or export operations to the front end.")

